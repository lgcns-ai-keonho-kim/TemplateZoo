# LLM API 
GEMINI_API_KEY=
OPENAI_API_KEY=
GEMINI_MODEL=gemini-3-flash-preview
OPENAI_MODEL=gpt-5-mini-2025-08-07

# 실행 환경(local/dev/stg/prod)
# 비워두면 local로 동작한다.
ENV=
# 콘솔 로그 출력 (1=출력, 0=미출력)
LOG_STDOUT=1

# Chat Core LLM 기본 설정
GEMINI_MODEL=gemini-3-flash-preview

# Chat 이력 저장 경로 (SQLite)
CHAT_DB_PATH=data/db/chat/chat_history.sqlite
# Chat 세션 메모리 최대 보관 메시지 수
CHAT_MEMORY_MAX_MESSAGES=200
# Chat 비동기 태스크 워커 수
CHAT_TASK_MAX_WORKERS=4
# Chat 대기열 최대 크기 (0이면 무제한)
CHAT_TASK_QUEUE_MAX_SIZE=1000
# 스트림 완료 대기 타임아웃(초)
CHAT_STREAM_TIMEOUT_SECONDS=180
# done 이후 저장 후처리 재시도 횟수
CHAT_PERSIST_RETRY_LIMIT=2
# done 이후 저장 후처리 재시도 간격(초)
CHAT_PERSIST_RETRY_DELAY_SECONDS=0.5
# 이벤트 버퍼 백엔드(memory|redis)
CHAT_BUFFER_BACKEND=memory
# 이벤트 버퍼 pop 대기 시간(초)
CHAT_EVENT_BUFFER_POLL_TIMEOUT=0.2
# 이벤트 버퍼 만료 TTL(초), none이면 만료 비활성화
CHAT_EVENT_BUFFER_TTL_SECONDS=600
# 인메모리 이벤트 버퍼 GC 주기(초)
CHAT_EVENT_BUFFER_GC_INTERVAL_SECONDS=30
# 태스크별 스트림 청크 버퍼 최대 개수 (0이면 무제한)
CHAT_TASK_STREAM_MAX_CHUNKS=4096
# 완료/실패 태스크 보관 TTL(초)
CHAT_TASK_RESULT_TTL_SECONDS=1800
# 태스크 상태 최대 보관 개수
CHAT_TASK_MAX_STORED=10000
# 태스크 정리 주기(초)
CHAT_TASK_CLEANUP_INTERVAL_SECONDS=30


# PostgreSQL 기본 설정
# 안내:
# - 아래 값은 PostgreSQL 연결 파라미터 예시다.
# - 현재 코드 기본값은 Chat 이력을 SQLite(CHAT_DB_PATH)에 저장한다.
# - PostgreSQL로 Chat 이력을 쓰려면 runtime 조립 코드에서 PostgresEngine + DBClient 주입 변경이 필요하다.
POSTGRES_HOST=127.0.0.1
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PW=postgres
POSTGRES_DATABASE=playground
# POSTGRES_DSN이 없으면 위 값을 기반으로 자동 조합됩니다.
# 예: postgresql://postgres:postgres@127.0.0.1:5432/playground
# POSTGRES_DSN=

# PostgreSQL 벡터 검색 테스트 활성화 (1이면 벡터 테스트 수행)
POSTGRES_ENABLE_VECTOR=0

# MongoDB 기본 설정
MONGODB_HOST=127.0.0.1
MONGODB_PORT=27017
MONGODB_USER=
MONGODB_PW=
MONGODB_DB=playground
# 인증 DB를 분리하고 싶다면 지정합니다. 기본값은 MONGODB_DB입니다.
MONGODB_AUTH_DB=
# MONGODB_URI가 없으면 위 값을 기반으로 자동 조합됩니다.
# 예: mongodb://127.0.0.1:27017
# MONGODB_URI=

# Redis 기본 설정
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_DB=0
REDIS_PW=
# REDIS_URL이 없으면 위 값을 기반으로 테스트에서 자동 조합됩니다.
# 예: redis://127.0.0.1:6379/0
# REDIS_URL=

# Elasticsearch 기본 설정
ELASTICSEARCH_SCHEME=https
ELASTICSEARCH_HOST=127.0.0.1
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USER=
ELASTICSEARCH_PW=
# Elasticsearch TLS 설정 (HTTPS 환경에서 사용)
# 예(상대경로): ELASTICSEARCH_CA_CERTS=certs/http_ca.crt
# HTTPS + self-signed 인증서 환경에서는 반드시 설정해야 CERTIFICATE_VERIFY_FAILED를 방지할 수 있습니다.
ELASTICSEARCH_CA_CERTS=
# 인증서 검증 여부(true/false). 비워두면 클라이언트 기본값을 사용합니다.
ELASTICSEARCH_VERIFY_CERTS=true
# CA 대신 지문으로 검증할 때 사용합니다.
# 예: ELASTICSEARCH_SSL_FINGERPRINT=AA:BB:CC:...
ELASTICSEARCH_SSL_FINGERPRINT=
# ELASTICSEARCH_HOSTS가 없으면 위 값을 기반으로 테스트에서 자동 조합됩니다.
# 예: https://127.0.0.1:9200
# ELASTICSEARCH_HOSTS=


# LanceDB 기본 설정 (RAG 벡터 저장소)
LANCEDB_URI=data/db/vector

# SQLite 기본 설정
SQLITE_DB_DIR=data/db
SQLITE_DB_PATH=data/db/playground.sqlite
# SQLite 잠금 대기 시간(ms)
SQLITE_BUSY_TIMEOUT_MS=5000
